cd.prototype.extend=W(1,function(a){for(var b=0;b<arguments.length;b++)Ac(arguments[b],function(a,b){this.add(b,a)},this)});function yZa(a){Yc(a);a.Vl.remove("userstoinvite");return a}VM("appsshare");function zZa(){return'<div class="shared-parent-change"><span class="shared-parent-change-desc">Some settings cannot be changed because they are inherited from a shared folder.</span><span>[<span class="shared-parent-change-link" role="link">Change</span>]</span></div>'};function t$(a){this.sc=a;this.Xc=void 0}t$.prototype.Ta=function(){return this.sc};t$.prototype.setData=function(a){this.Xc=a};t$.prototype.ob=function(){var a={};a["shsc-type"]=this.sc;a["shsc-data"]=this.Xc;return yd(a)};function AZa(a){t$.call(this,"shsc-set-visible");this.setData(a)}v(AZa,t$);AZa.prototype.aa=function(){return this.Xc};function u$(a){t$.call(this,"shsc-set-ids");this.setData(a)}v(u$,t$);u$.prototype.w$=function(){return this.Xc};function v$(a,b,c){x.call(this);this.fHa=a;this.IDa=b||null;this.AWa={};this.dk={};this.I=new G(this);y(this,this.I);this.I.listen(c||m.window,"message",this.Fl)}v(v$,x);v$.prototype.sendMessage=function(a){this.IDa&&this.IDa.postMessage(a.ob(),this.fHa)};v$.prototype.Fl=function(a){a=a.Ob;if(a.origin==this.fHa){var b=a.data?wd(a.data):{};a=b["shsc-type"];var b=b["shsc-data"],c=this.AWa[a];if(c){var d=null;try{d=c(b)}catch(f){}d&&A(this.dk[a],function(a){a.call(null,d)})}}};
function BZa(a,b){a.AWa[b]=CZa(b);a.dk[b]||(a.dk[b]=[])}function CZa(a){return function(){return new t$(a)}}function DZa(a,b,c){var d=a.dk[b];d||(d=[],a.dk[b]=d);d.push(c)};function w$(a,b,c){R.call(this,c);this.Jc=a;this.jia=b;this.ifa=!1;this.tc=[];this.RKa=!1;this.rF=new v$(this.jia,void 0,this.D().getWindow());BZa(this.rF,"shsc-ready");BZa(this.rF,"shsc-close");DZa(this.rF,"shsc-ready",r(this.bkb,this));DZa(this.rF,"shsc-close",r(this.reb,this))}v(w$,R);w$.prototype.F=function(){this.Q=zg("iframe",{style:"display: none; background-color: transparent; position: absolute; top: 0; left: 0; z-index: 1006",src:this.Jc,onload:r(this.Ngb,this),FIb:0,height:"100%",width:"100%"})};
w$.prototype.Ngb=function(){var a=this.A().contentWindow;this.rF.IDa=a};w$.prototype.bkb=function(){this.ifa=!0;var a=this.tc;this.tc=a;this.ifa&&this.rF.sendMessage(new u$(a));EZa(this,this.RKa)};w$.prototype.reb=function(){P(this.A(),!1);this.dispatchEvent("Bg");this.dispatchEvent("Cg")};function EZa(a,b){a.RKa=b;a.ifa&&(P(a.A(),b),a.rF.sendMessage(new AZa(b)))};function FZa(a){R.call(this,a)}v(FZa,R);function x$(a){R.call(this,a)}v(x$,FZa);x$.prototype.Zg=function(a){var b=this.A();b&&(b.style.width=a+"px")};x$.prototype.getHeight=function(){var a=this.A();return a?fo(a).height:0};function y$(a){R.call(this,a);this.BB=new w$("/modifyparentsremove",this.D().getWindow().location.origin);this.V(this.BB)}v(y$,x$);e=y$.prototype;e.gc=function(){return!1};e.F=function(){this.Q=Q(zZa);this.$p=this.D().X("shared-parent-change-link",this.A());this.BB.F()};e.L=function(){y$.B.L.call(this);Ug(this.$p,!0);this.O().tb(this.$p,yn,this.shb);this.O().listen(this.$p,"keypress",this.vhb);this.D().qa().body.appendChild(this.BB.A());this.O().listen(this.BB,"Bg",this.Un)};
e.Un=function(){this.na&&this.$p.focus()};e.shb=function(){EZa(this.BB,!0)};e.vhb=function(a){13==a.keyCode&&a.stopPropagation()};function z$(a,b){x.call(this);this.yCa=a;this.BB=b;this.I=new G(this);y(this,this.I);this.I.listen(this.BB,"Cg",this.xsa);this.I.listen(this.yCa,["uiOpened","aclInfoUpdated"],this.byb)}v(z$,x);z$.prototype.byb=function(){var a=this.yCa.gg;if(a){var b=this.BB;b.tc=a;b.ifa&&b.rF.sendMessage(new u$(a))}};z$.prototype.xsa=function(){this.yCa.lt("refresh")};function A$(a,b,c,d,f,g){this.rRa=a;this.Zi=b;this.sT=c;this.ah=d;this.DA=f||null;this.e1a=g||null}A$.prototype.getMessage=function(){return this.Zi};A$.prototype.ID=function(){return this.DA};A$.prototype.ob=function(){var a={};a.iconId=this.rRa;a.learnMoreUrl=this.ID();a.message=this.getMessage();a.showInDialog=this.sT;a.timeout=this.ah;a.undoFn=this.e1a;return a};function B$(a,b){R.call(this,b);this.yd=a}v(B$,R);B$.prototype.sc="info";B$.prototype.pwa=!1;var GZa={info:"jfk-butterBar-info",error:"jfk-butterBar-error",warning:"jfk-butterBar-warning",promo:"jfk-butterBar-promo"};e=B$.prototype;e.Ta=function(){return this.sc};e.zq=function(a){this.ma()&&wn(this.A(),GZa[this.sc],GZa[a]);this.sc=a};e.Ub=function(a){this.yd=a;if(a=this.A()){var b=this.D();b.Vd(a);b.append(a,this.yd)}};e.aa=function(){var a=this.A();return null!=a&&qn(a,"jfk-butterBar-shown")};
e.N=function(a){un(this.A(),"jfk-butterBar-shown",a)};e.F=function(){this.Q=this.D().F("div","jfk-butterBar");var a=this.A();a&&(jn(a,"live","assertive"),jn(a,"atomic","true"));this.Ub(this.yd);this.pwa=this.pwa;(a=this.A())&&un(a,"jfk-butterBar-mini",this.pwa);this.zq(this.sc)};function HZa(a,b){this.oq=a;this.fa=b||kg();this.Wy=null;this.sT=!1;this.gM=0}v(HZa,x);
function IZa(a,b,c){var d,f=b.rRa;switch(f){case "copy":d="share-butter-copy-icon";break;case "specificPeople":d="share-butter-specific-people-icon";break;case "personLink":d="share-butter-person-link-icon"}a.Wy&&a.wza();var g=a.fa,h=g.F("SPAN");d&&"none"!=f&&(d=g.F("SPAN",["apps-share-sprite","share-butter-icon",d]),g.append(h,d));d=g.F("SPAN","share-butter-message",b.getMessage());g.append(h,d);if(d=b.ID())d=g.F("A",{target:"_blank",href:d,"class":"share-butter-link",tabIndex:"0"},"Learn more"),
g.append(h,"\u00a0","\u00a0"),g.append(h,d);var k=b.e1a;k&&(d=g.F("SPAN",{"class":"share-butter-link",tabIndex:"0"},"Undo"),d.onclick=function(){k();this.onclick=ea},g.append(h,"\u00a0","\u00a0"),g.append(h,d));a.Wy=g.F("DIV",["share-butterbar-container","share-butterbar-top","share-butterbar-zindex"]);h=new B$(h,g);h.render(a.Wy);jn(h.A(),"live","off");h.N(!0);a.sT=b.sT;g.appendChild(a.sT&&c?c:document.body,a.Wy);JZa(a,a.Wy,c);a.gM=window.setTimeout(r(a.wza,a),b.ah)}
HZa.prototype.wza=function(){this.Wy&&(Gg(this.Wy),this.Wy=null,delete this.Wy,window.clearTimeout(this.gM))};function JZa(a,b,c){var d=parseInt(Kn(b,"width"),10);if(a.sT&&c){var f=parseInt(Kn(c,"left"),10),g=parseInt(Kn(c,"top"),10);c=parseInt(Kn(c,"width"),10);var h=parseInt(Kn(b,"height"),10);Nn(b,f+(c-d)/2,a.oq?0:g+h/2)}else b.style.left="50%",b.style.marginLeft=-(d/2)+"px"};function C$(a){ht.call(this,void 0,!1,a);qt(this,!1);this.m9=!0;this.dc(null);zt(this,"")}v(C$,ht);C$.prototype.N=function(a){var b=this.A(),c=this.D();un(b,"share-client-offscreen",!a);a!=this.Nda&&mt(this,a);a?(this.oc(),C$.B.N.call(this,!0)):(b.style.right="",b.style.left="",b.style.top="");for(var c=ch(c,"iframe",null,this.ma()),d=0;d<c.length;d++)c[d].tabIndex=a?"0":"-1";b.tabIndex=a?"0":"-1";this.Xd.tabIndex=a?"0":"-1";b.setAttribute("aria-hidden",!a);a||this.dispatchEvent("Dg")};
C$.prototype.L=function(){C$.B.L.call(this);var a=FBa(this);a&&jn(a,"hidden",!0)};function D$(a){H.call(this);this.fa=a||kg()}v(D$,H);e=D$.prototype;e.iI=null;e.I=null;e.bc=!1;e.ka=function(){return this.I||(this.I=new G(this))};e.D=function(){return this.fa};e.init=function(){this.hc()||(this.Jba(),this.bc=!0)};e.hc=function(){return this.bc};e.Pfb=function(){this.dispatchEvent("errorHidden")};e.Qfb=function(){this.dispatchEvent("errorShown")};
e.rT=function(a,b){var c=this.iI;a&&(c||(this.iI||(c=new ht(void 0,!0,this.D()),c.render(),c.dc(rt(new nt,tt,!0,!0)),c.setTitle(""),this.ka().listen(c,"hide",this.Pfb).listen(c,"show",this.Qfb),zt(c,tt.key),N(c.A(),"share-client-error-dialog"),this.iI=c),c=this.iI),jt(c,ie(b||"")));c&&c.N(a)};e.H=function(){z(this.iI);z(this.I);D$.B.H.call(this)};e.Jba=ea;e.KZa=ea;e.P9=ea;function E$(a){D$.call(this,a);this.gb=new C$(a);this.ka().listen(this.gb,"dialogselect",this.nh).listen(this.gb,"Dg",this.dJ);this.mSa=!1;this.pla=new HZa(!1,a);y(this,this.pla)}v(E$,D$);e=E$.prototype;e.Jva=null;e.nh=function(){this.N(!1);this.dispatchEvent("uiContainerClose");return!1};e.dJ=function(){this.dispatchEvent("uiContainerClose")};e.cfb=function(a){this.LCa(a.target)&&(this.gb.A().blur(),this.gb.A().focus())};e.LCa=function(a){return Pg(this.gb.A(),a)};
e.Jba=function(){var a=this.gb;a.na||a.render();N(a.A(),"share-client-dialog");this.ka().listen(a.A(),"click",this.cfb);P(a.A(),!0);this.N(!1)};e.aa=function(){return this.mSa};e.N=function(a){var b=this.gb;b.na||this.init();b.N(a);this.mSa=a;this.pla.wza()};
e.KZa=function(a){var b=this.Jva;a&&!b&&(b=new ht(void 0,!0,this.D()),jt(b,T('<div class="share-client-loading-contents"><div class="share-client-spinner"> </div></div>').PB()),b.dc(null),b.setTitle("Loading..."),this.ka().listen(b,"hide",this.Ehb),this.Jva=b,b.render(),N(b.A(),"share-client-loading-dialog"));b&&b.N(a)};e.P9=function(){this.gb.focus()};e.Ehb=function(){this.dispatchEvent("uiContainerCancelLoad")};e.Ub=function(a){jt(this.gb,a)};
e.setTitle=function(a,b){var c=ch(this.D(),"IFRAME",void 0,this.gb.ma());0<c.length&&(c[0].title=a);un(HM(this.gb),"share-client-dialog-hidden-title",b);this.gb.setTitle(b?"":a)};e.resize=function(a,b){var c=this.gb.ma();c.style.width=a+"px";c.style.height=b+"px";this.FF();D&&(c=ug(document),tc(8)&&c||(c=c?0:18,this.gb.A().style.width=a+c+"px"))};e.FF=function(){var a=tg().height;if(a){var b=this.gb.A(),c=fo(b).height;if(0<Tn(b).y+c-a){var d="fixed"==Mn(b)?0:eh(this.D()).y;O(b,"top",a-c+d+"px")}}};
e.H=function(){z(this.gb);z(this.Jva);E$.B.H.call(this)};function F$(a){E$.call(this,a);this.Uj={}}v(F$,E$);var G$={zBb:"bottom",IDb:"top"};e=F$.prototype;e.yd=oe;e.c_a=!0;e.NL=null;e.Aha=null;e.PV=null;e.b0a="";e.Wf="";
e.Jba=function(){F$.B.Jba.call(this);var a=this.D(),b=this.gb.ma(),c=a.F("div"),d=a.F("div");jg(d,this.yd);d.className="share-client-panel-dialog-share";var f={},g;for(g in G$)g=G$[g],f[g]=a.F("div");a.appendChild(b,f.top);a.appendChild(b,c);a.appendChild(b,d);a.appendChild(b,f.bottom);this.NL=d;c.className="share-client-panel-dialog-overlay";this.Aha=c;this.c_a=a=this.c_a;if(b=this.Aha){if(!a){var c=fo(this.NL),d=c.height,h=this.Aha;h.style.width=c.width+"px";h.style.height=d+"px"}P(b,!a);ho(this.NL,
a?1:.5)}this.PV=f;for(g in G$)g=G$[g],f[g].className="share-client-panel-dialog-component-"+g,(a=this.Uj[g])&&a&&g&&a.render(this.PV[g])};e.N=function(a){F$.B.N.call(this,a);a&&this.gb.focus()};e.setTitle=function(a,b){this.Wf=a;this.b0a&&(a=a+" - "+this.b0a);F$.B.setTitle.call(this,a,b)};e.Ub=function(a){this.yd=a;this.NL&&jg(this.NL,a)};e.LCa=function(a){if(!F$.B.LCa.call(this,a))return!1;for(var b in G$)if(b=G$[b],Pg(this.PV[b],a))return!1;return!0};
e.OAa=function(a,b){var c=this.Uj[b];this.Uj[b]=a;this.ka().listen(a,"resize",this.ck);this.hc()&&a&&b&&a.render(this.PV[b]);return c?(c.Sa(),c.A()&&Gg(c.A()),c):null};e.ck=function(){var a=fo(this.NL);this.resize(a.width,a.height)};e.resize=function(a,b){var c=this.NL;c.style.width=a+"px";c.style.height=b+"px";c=this.Aha;c.style.width=a+"px";c.style.height=b+"px";var c=0,d;for(d in G$){d=G$[d];var f=this.Uj[d];!f||"top"!=d&&"bottom"!=d||(f.Zg(a),c+=f.getHeight())}F$.B.resize.call(this,a,b+c)};
e.H=function(){for(var a in G$)a=G$[a],z(this.Uj[a]);this.PV=this.Uj=null;F$.B.H.call(this)};function KZa(){this.H9a=this.JC("share-email-attachment","Email as attachment...");this.I9a=this.JC("share-email-collaborators","Email collaborators...");this.ds=this.JC("share-share","Share...")}var H$=null;KZa.prototype.JC=function(a,b){var c={};c.label=b;c.visible=!0;c.hint=b;return new kr(a,c)};function I$(a){x.call(this);this.jja=a.userRole||0;this.RQ=null!=a.maxAnyoneRole?a.maxDomainRole:30;this.SQ=null!=a.maxAnyoneRole?a.maxDomainRole:30;this.F9a=!!a.editorsCanInvite;this.nrb=a.numSharedUsers||0;this.mG=!!a.sharingDisabled;this.PAb=a.userDomain||Fj;var b=a.itemDomains;this.Xob=ab(ha(b)?b:[b||null],function(a){return a||Fj});b=a.sharingPolicies;b=ha(b)?b:[b||null];this.Byb=ab(b,function(a){return a||vfa});this.Toa=!!a.exportable;this.AM=a.visibilitySetting||null;this.Xx=a.shareableUrl||
null;this.Mza=!!a.requestShareEnabled}v(I$,x);e=I$.prototype;e.Vw=function(){return this.jja};e.y$=function(){return this.F9a};e.zqa=function(){return this.nrb};e.bra=function(){return this.PAb};e.rqa=function(){return this.Xob};e.Cl=function(){return this.AM};e.jT=function(a){this.AM=a};
e.ob=function(){var a={};a.userRole=this.Vw();a.editorsCanInvite=this.y$();a.numSharedUsers=this.zqa();a.sharingDisabled=this.mG;a.userDomain=this.bra().ob();a.itemDomains=ab(this.rqa(),function(a){return a.ob()});a.sharingPolicies=ab(this.Byb,function(a){return a.ob()});a.maxAnyoneRole=this.RQ;a.maxDomainRole=this.SQ;a.exportable=this.Toa;this.Cl()&&(a.visibilitySetting=this.Cl().ob());a.shareableUrl=this.Xx;a.requestShareEnabled=this.Mza;return a};
function LZa(a){a=Vb(a);var b=a.userDomain;b&&(a.userDomain=Bj(b));b=a.itemDomains;b=ha(b)?b:[b||null];a.itemDomains=ab(b,function(a){return a?Bj(a):a});b=a.sharingPolicies;b=ha(b)?b:[b||null];a.sharingPolicies=ab(b,function(a){return a?new Vj(!!a.canPublishOut):a});(b=a.visibilitySetting)&&(a.visibilitySetting=Zj(b));return new I$(a)};function J$(a,b){x.call(this);this.Ce=a;this.jia=b;this.Tea=[];this.bUa=r(this.Fl,this);window.addEventListener("message",this.bUa,!1);this.dk=new C}v(J$,x);J$.prototype.Fl=function(a){if(a.origin==this.jia){try{var b=wd(a.data)}catch(c){return}var d=b.args;if(b=this.dk.get(b.type))this.Ce=a.source,this.Tea&&(A(this.Tea,function(a){this.sendMessage(a.oqb,a.$tb)},this),this.Tea=[]),b.call(null,d)}};J$.prototype.ej=function(a,b,c){this.dk.set(a,r(b,c))};
J$.prototype.sendMessage=function(a,b){if(this.Ce){var c={};c.type=a;b&&(c.args=b);this.Ce.postMessage(yd(c),this.jia)}else this.Tea.push({oqb:a,$tb:b})};J$.prototype.H=function(){window.removeEventListener("message",this.bUa,!1)};function K$(a,b,c,d,f,g,h,k,n,p,t,w,B,E,aa){H.call(this);this.Bt=a;this.Yh=t||new E$(d);this.cxa=w||window;(a=f)?a.Nd()&&a.Zf(new fx(d),0,!0):(a=ex.Y(),a=new gx(d,a));d=a.A();d||(a.F(),d=a.A());N(d,"goog-menu-noaccel");this.O3a&&a.N(!1);this.OL=a;d=Pq.Y();(this.Nva=new bx(this.D3a,void 0,void 0,d)).setEnabled(!1);(this.Bha=new bx(this.E3a,void 0,void 0,d)).setEnabled(!1);this.Qga=b;this.X9=c;this.xyb=p||b;this.ei=new I$({});this.fa=a.D();this.Gf=k||null;this.Wub=q(n)?n:!0;this.b_a=new wV;a:switch(h||
"classic"){case "classic":b=1;break a;case "stjw":case "jfk":b=Math.max(1,2);break a;default:throw Error("Unknown share UI");}this.rq=b;this.Hg=E||null;this.I4=!!B;this.pLa=B||null;this.yyb=aa||null;this.uHa=null;this.uHa=this.fa.A("docs-aria-speakable");this.I4||MZa(this,this.cxa);B=NZa(this);B.listen(a,"show",this.Shb);B.listen(a,"action",this.rQa);B.listen(this.Yh,"uiContainerCancelLoad",this.zhb);B.listen(this.Yh,"uiContainerClose",this.gmb);B.listen(this.Yh,"errorHidden",this.hmb);B.listen(this.Yh,
"errorShown",this.Jsa)}v(K$,H);e=K$.prototype;e.j3a=!1;e.O3a=!0;e.U3a=!0;e.Nia=null;e.tV=null;e.Hh=null;e.Ay=!1;e.PL=!1;e.p9=null;e.hT=null;e.uYa=null;e.I=null;e.gg=null;e.Rba=!1;e.Iba=null;e.XEa=!1;e.BM=!1;e.wv=!1;e.ETa=!1;e.TN=null;e.bea=0;e.zLa=!1;e.xe=null;e.Pca=0;e.wCa=null;e.ML=null;e.BCa=!1;e.dwb=!1;e.NZ=!1;e.XRa=!1;e.D3a="Loading...";e.E3a="Sharing is unavailable at this time. Please try again later.";e.F3a="Sorry, sharing is unavailable at this time. Please try again later.";e.Vs=null;
function MZa(a,b){a.I4||(b.SC_setTitle=r(a.TZa,a),b.SC_resize=r(a.Yh.resize,a.Yh),b.SC_setVisible=r(a.UZa,a),b.SC_prepareForVisible=r(a.Tya,a),b.SC_setAclInfo=r(a.vZa,a),b.SC_setClientModel=r(a.vZa,a),b.SC_dispatchEvent=r(a.$C,a),b.SC_handleError=r(a.Tf,a),b.SC_handleCommandComplete=r(a.APa,a),b.SC_setExecuteCommandFn=r(a.Pxb,a),b.SC_setSetShareSystemVisibleFn=r(a.ayb,a),b.SC_setGetInterfaceVersionNumberFn=r(a.Rxb,a),b.SC_getVersionNumber=r(a.vcb,a),b.SC_rewriteUrl=r(a.Pwb,a),b.SC_showNotification=
r(a.Myb,a),b.SC_getAriaLiveRegion=r(a.xbb,a))}
function OZa(a){if(a.I4&&!a.Vs){var b=ad(a.Hh.clone().Zl("").Bg(""),"").toString();a.Vs=new J$(null,b);a.Vs.ej("handleCommandComplete",function(a){this.APa(a.commandType,a.commandStatus)},a);a.Vs.ej("resize",function(a){this.Yh.resize(a.width,a.height);this.Vs.sendMessage("resizeComplete")},a);a.Vs.ej("prepareForVisible",function(){this.Tya();this.Vs.sendMessage("makeBodyVisible");this.Vs.sendMessage("prepareComplete")},a);a.Vs.ej("setVisible",function(a){this.UZa(a.visible)},a);a.Vs.ej("setTitle",
function(a){this.TZa(a.title,a.hidden)},a);a.p9=r(function(a){this.Vs.sendMessage("executeCommand",{commandType:a})},a)}}function PZa(a){var b={};b.impressionType=a;return b}e.YF=function(a){if(this.Hh)throw Error("Base uri has already been set and cannot be set again.");ja(a)&&(a=new Wc(a));this.Hh=a;this.I4&&OZa(this)};e.vcb=function(){return 2};
e.vZa=function(a){var b=this.ei;this.ei=LZa(a);this.Ay&&b.Xx!=this.ei.Xx&&(this.BCa=!0);this.Ay=!0;this.BM=!1;L$(this);a=this.ei;this.bea=tV(this.fa).length;hKa(this.OL,a.Vw(),a.mG,QZa(this),a.Toa&&this.zLa,this.gg.length,this.fa,a.Mza,!!a.Xx);this.$C("menuUpdated");this.gEa();this.ML&&this.ML.jT(this.ei.Cl());this.$C("aclInfoUpdated")};
e.Shb=function(){if(this.gg&&this.gg.length)this.Ay?RZa(this):(this.OL.aa()||this.OL.N(!0,!0),this.Oia(!0));else{L$(this);for(var a=tV(this.fa),b=a.length-1;0<=b;b--)M$(this,a[b])}};e.Tf=function(a,b){switch(a){case "init":L$(this);if(b){var c=Pq.Y(),c=new bx(Bg(document,b),void 0,void 0,c);c.setEnabled(!1);M$(this,c)}else M$(this,this.Bha);this.Ay=this.NZ=!0}};
e.APa=function(a,b){var c="success"==b;switch(a){case "init":SZa(this);break;case "init_share":case "data":a:{c&&(this.Pca=u()),this.wv=!1;var d=this.TN,f=this.eW;if(this.Rba)if(this.Rba=!1,this.gg=this.GYa,delete this.GYa,this.TN=null,delete this.eW,delete this.T7,c){if(d){f.itemIds=this.gg;TZa(this,d,f);break a}}else"maybe_show_acl_fixer"==d&&UZa(this);N$(this,!1);d&&(c?(c=r(this.Qoa,this,d,this.eW,this.T7),I(c,10,this)):"maybe_show_acl_fixer"==d&&UZa(this),this.TN=null,delete this.eW,delete this.T7)}}};
e.Rxb=function(){};e.Pxb=function(a){this.PL=!0;this.p9=a};e.ayb=function(a){this.hT=a};e.Pwb=function(a){return this.uYa?this.uYa(a):a};e.Myb=function(a){var b=this.Yh;IZa(b.pla,new A$(a.iconId,a.message,a.showInDialog,a.timeout,a.learnMoreUrl,a.undoFn),b.gb.A())};e.TZa=function(a,b){this.Yh.setTitle(a,b)};e.Vw=function(){return this.ei.Vw()};e.y$=function(){return this.ei.y$()};e.bra=function(){return this.ei.bra()};e.rqa=function(){return this.ei.rqa()};e.zqa=function(){return this.ei.zqa()};
function QZa(a){var b=a.ei.Vw();return a.ei.mG?!1:40==b||30==b&&a.ei.y$()}e.Cl=function(){return this.ei.Cl()};e.jT=function(a){this.ei.jT(a);this.ML&&this.ML.jT(this.ei.Cl())};e.xbb=function(){return this.uHa};
e.Oia=function(a,b,c){this.gg&&!hb(this.gg)&&(this.Yh.aa()?this.Nia=r(this.Oia,this,a,b):(a&&(L$(this),M$(this,this.Nva),I(this.m7a,1E4,this)),this.BM||(this.PL?(this.BM=!0,VZa(this,c,!0)):(this.BM=!0,this.j3a?(this.wv=!0,WZa(this,!0)):(this.XEa=!0,b=this.Iba,b||(b=zg("iframe"),b.src='javascript:""',c=b.style,c.visibility="hidden",c.width=c.height="10px",nc?c.marginTop=c.marginLeft="-99px":(c.position="absolute",c.top=c.left="-10px"),document.body.appendChild(b),this.Iba=b),b.src=XZa(this,"init"),
I(this.k7a,25E3,this),a&&RZa(this))))))};function RZa(a){if(a.U3a&&!a.NZ)if(a.wv||a.PL){var b;if(b=a.PL)b=2E4<u()-a.Pca;b&&(a.wv=!0,VZa(a,void 0,!0))}else a.wv=!0,WZa(a,!0)}function WZa(a,b){var c={};c.preload=!!b;c=a.Hh&&XZa(a,"init_share",c);c=T('<iframe frameborder="0" src="'+(c?U(aq(c)):"javascript:&quot;&quot;")+'" class="share-client-content-iframe"></iframe>').PB();a.Yh.Ub(c);b||N$(a,!0);a.Tya()}function VZa(a,b,c){b=b||{};b.itemIds||(b.itemIds=a.gg);a.Qoa("data",b,void 0,c)}
function L$(a){for(var b=a.OL,c=a.bea,d=0;d<c;d++)b.DF(0,!0);a.bea=0;a.$C("menuUpdated")}function M$(a,b){b.getParent()||(a.OL.Zf(b,0,!0),a.bea++,a.$C("menuUpdated"))}function NZa(a){return a.I||(a.I=new G(a))}
function XZa(a,b,c){if(!a.Hh)return'javascript:""';var d=a.Hh.clone();ed(d,"id",a.gg);ed(d,"foreignService",a.Qga);ed(d,"gaiaService",a.X9);ed(d,"shareService",a.xyb);ed(d,"shareProtocolVersion",a.rq);ed(d,"command",b);ed(d,"subapp",10);ed(d,"popupWindowsEnabled",a.Wub);ed(d,"shareUiType","default");a.Gf&&ed(d,"hl",a.Gf);ed(d,"authuser",a.Bt?a.Bt:"0");ed(d,"rand",u());c&&d.Rn().extend(c);a.I4&&ed(d,"client","postMessage");a.Hg&&ed(d,"appId",a.Hg);a.pLa&&ed(d,"embedOrigin",a.pLa);return d.toString()}
e.lt=function(a,b){b=b||{};b.itemIds=this.gg;MZa(this,this.cxa);var c=!0;switch(a){case "init":case "load_acl_fixer_data":case "maybe_email_collaborators":case "maybe_show_acl_fixer":case "preload_share":case "refresh":c=!1}switch(a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":YZa(this,!0)}if(!this.PL&&this.gg&&15<this.gg.length)this.GYa=this.gg,this.gg=[this.gg[0]],this.Rba=!0,TZa(this,a,b,!c);else if("init"==a||"refresh"==a)this.Oia(!1,!0,b);else if(!this.gg||!this.gg.length)this.dispatchEvent(new ZZa(r(this.lt,
this,a,b)));else if(this.dispatchEvent(new $Za)){if("invite"==a&&b.inviteFromUrl){if(this.Ay&&!QZa(this))return;if(!this.Ay){this.BM||this.Oia(!1,!0);NZa(this).hb(this,"aclInfoUpdated",r(this.lt,this,a,b));return}}var d;if(!(d=!this.PL)&&(d=2E4<u()-this.Pca)){a:switch(d=b&&!!b.forceFullLoad,a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":d=!d;break a;case "preload_share":d=!0;break a;default:d=!1}d=!d}d?(this.Rba&&c&&N$(this,!0),TZa(this,a,b,!c)):this.Qoa(a,b)}};
function TZa(a,b,c,d){a.TN=b;a.eW=c;a.T7=(new Date).getTime();la(a.tV)&&J(a.tV);a.tV=I(a.l7a,25E3,a);a.wv||(a.wv=!0,a.PL?VZa(a,c,"load_acl_fixer_data"==b||"maybe_show_acl_fixer"==b):WZa(a,d))}e.Qoa=function(a,b,c,d){if("preload_share"!=a){b=b||{};b.itemIds||(b.itemIds=this.gg);if("maybe_show_acl_fixer"==a||"load_acl_fixer_data"==a)b.aclFixerMode=b.aclFixerMode||"mail",b.aclFixerModeInternal="mail";MZa(this,this.cxa);this.p9(a,b,c,d)}};function SZa(a){var b=a.Iba;b&&(Gg(b),a.Iba=null)}
e.k7a=function(){this.XEa&&(SZa(this),this.XEa=!1)};e.m7a=function(){this.BM&&!this.NZ&&(L$(this),M$(this,this.Bha),this.BM=!1,this.NZ=!0)};e.l7a=function(){if(this.wv){switch(this.TN){case "maybe_show_acl_fixer":UZa(this);break;case "load_acl_fixer_data":case "preload_share":break;default:this.Yh.rT(!0,this.F3a)}this.$C("loadError");a_a(this)}};e.zhb=function(){this.ETa&&a_a(this)};function a_a(a){a.wv&&(b_a(a,!1),a.Yh.Ub(oe),a.wv=!1,N$(a,!1),a.TN=null,delete a.eW,delete a.T7)}
function N$(a,b){a.ETa=b;var c=a.Yh;b&&c.dispatchEvent("beforeLoad");c.KZa(b);b||c.dispatchEvent("afterLoad");b&&a.Jsa()}e.rQa=function(a){switch(a.target.Z()){case "access":this.lt("access");break;case "email":this.lt("email",PZa(5));break;case "emailAttach":this.lt("email_attach",PZa(6));break;case "invite":this.lt("invite");break;case "link":this.lt("link");break;case "settings":this.lt("settings",PZa(2))}};
e.gEa=function(){var a=this.ei,b=H$||(H$=new KZa),c=a.Vw(),d=this.XRa||a.mG,f=QZa(this),g=this.yyb||void 0,h=1==this.gg.length,k=30<=c,c=!d&&(k||f)&&h,f=!d&&(f||k||h&&a.Mza),a=!d&&h&&a.Toa&&this.zLa;g?g.cMb(a,c,f):(b.H9a.setEnabled(a),b.I9a.setEnabled(c),b.ds.setEnabled(f))};e.UZa=function(a){a&&(this.wv=!1,N$(this,!1),this.Yh.rT(!1));b_a(this,a)};e.Tya=function(){this.Yh.init()};function b_a(a,b){b&&a.Yh.init();a.Yh.N(b);b?a.Jsa():c_a(a)}
function YZa(a,b){a.XRa=b;a.Ay?a.gEa():((H$||(H$=new KZa)).ds.setEnabled(!b),NZa(a).hb(a,"aclInfoUpdated",r(a.gEa,a)))}e.Jsa=function(){this.dispatchEvent("uiOpened")};function c_a(a){a.Nia&&(a.Nia(),a.Nia=null);if(a.BCa){a.BCa=!1;var b=a.ei.Xx,c=a.ei.Cl();b&&c&&"unlisted"==c.fA()&&(b=new d_a(b),a.dwb?e_a(b):a.dispatchEvent(b))}a.hT&&a.hT(!1);a.dispatchEvent("uiClosed")}e.gmb=function(){this.hT&&this.hT(!1)};e.hmb=function(){this.Yh.aa()||c_a(this)};
function UZa(a){YZa(a,!1);a.dispatchEvent(new O$("continue"))}e.$C=function(a,b){switch(a){case "aclFixerDone":var c="continue";b&&b.aclFixerDoneStatus&&(c=b.aclFixerDoneStatus);YZa(this,!1);this.dispatchEvent(new O$(c));break;default:this.dispatchEvent(new F(a))}};
e.H=function(){K$.B.H.call(this);la(this.tV)&&J(this.tV);this.OL.W();delete this.OL;this.wCa&&(this.wCa.W(),delete this.wCa);this.ML&&(this.ML.W(),this.ML=null);this.Nva.W();delete this.Nva;this.Bha.W();delete this.Bha;delete this.fa;this.b_a.W();delete this.b_a;this.Yh.W();delete this.Yh;this.I&&(this.I.W(),this.I=null);this.xe&&(this.xe.W(),this.xe=null);this.Hh=this.gg=null;this.ei.W();delete this.ei;this.hT=this.p9=null};function $Za(){F.call(this,"beforeExecute")}v($Za,F);
function ZZa(a){F.call(this,"createItems");this.Hd=a}v(ZZa,F);function d_a(a){F.call(this,"reloadSuggested");this.zyb=a}v(d_a,F);function e_a(a){var b=WM(id(a.zyb),"authkey"),c=window,d=yZa(id(c.location.href));b&&ed(d,"authkey",b);var f=d.toString();f!=id(c.location.href).toString()&&((a=a.target)&&a.W(),c.setTimeout(function(){c.location.href=f},0))}function O$(a){F.call(this,"aclFixerDone");this.mf=a}v(O$,F);O$.prototype.getStatus=function(){return this.mf};function P$(a){Et.call(this,a);this.xCa={};a=jv(this.getContext());this.ka().listen(a,"qa",this.sg);this.rea=!1}v(P$,ZP);e=P$.prototype;e.mK=null;e.wV=null;e.ag=null;
e.execute=function(a){var b=a[0],c=a[1],d=a[2];a=a[3];var f=this.getContext(),g;g=b&&ja(b)?(b=Fl(b))?[b]:[]:b?[b]:au(this.getContext().$);b=g.length;if(0==b)tM(this.Ue());else{this.mK=new qe;f.J();for(f=0;f<b;f++){var h=g[f];Zk(h,"shareable")||this.mK.add(h.getId())}f=this.mK.ra();if(h=jKa(g)){var k;if(!this.xCa[h]){var n=this.getContext().J(),p=void 0,t;if(t=null!=K(n,64)?K(n,64):!1)p=new F$,k=new y$,p.OAa(k,"top");p=this.xCa[h]=new K$(n.Kh(),n.e6a,n.X9,void 0,void 0,0,h,void 0,void 0,void 0,p);
null!=K(n,124)&&K(n,124)?p.YF("/sharing/share"):p.YF("share");t&&(k=new z$(p,k.BB),y(this,k));this.ka().listen(p,"aclInfoUpdated",this.Ykb);this.ka().listen(p,"uiClosed",this.blb)}k=this.xCa[h];h=[];for(n=0;n<g.length;n++)h.push(g[n].Cj);g=ha(h)?h:[h];tb(g);ub(g);h=k.gg;k.Ay&&wb(g,h)||(k.gg=g,k.Ay=!1,k.NZ=!1,k.Pca=0,k.lt("refresh"),k.Yh.aa()&&b_a(k,!1));q(d)?(this.rea=!a,k.rQa(d)):0<f?b==f?$P(this,"em",1==b?"You do not have permission to share the item selected.":"You do not have permission to share the items selected."):
(c=this.wV,c||(c=this.wV=new ht,a=new nt,a.set("ok","OK",!0),a.set("cancel","Cancel",!1,!0),c.dc(a),P(HM(c),!1),this.ka().listen(c,"dialogselect",this.Tdb)),c.Ub("You do not have permission to share "+(f+" of the items selected. Click OK to select only the sharable items.")),c.N(!0)):(d={},c&&m.parent==m&&null==m.frameElement&&(b={},c&&(b.recipient=c),d.notificationInfo=b),this.rea=!a,k.lt("invite",d))}else Ys(this.getContext()).qc("The selected items can not be shared together. Please select one and try again,",
"m")}};e.Tdb=function(a){switch(a.key){case "ok":this.getContext().$.Ss(this.mK)}};e.Ykb=function(a){a.target&&(a=a.target.gg)&&0<a.length&&(this.ag=new zB(a),Sm(jv(this.getContext()),this.ag))};e.sg=function(a){if(this.ag&&this.ag.oa()==a.request.oa()){a=a.response;var b=a.Jw()||xs(Ys(this.getContext()));a.getError()?$P(this,"em",b):(b=this.ag.tc,b.length!=a.ud().length&&(a=ab(a.ud(),function(a){return a.getId()}),b=new qe(b),b.removeAll(a),a=b.Pa(),a=Gl(a),rM(this.Ue(),a,this.Lxb)))}};
e.blb=function(){this.rea&&(FH(this.getContext()).dispatchEvent("r"),this.rea=!1)};e.Lxb=function(a){a.r2("deleted",!0)};e.H=function(){P$.B.H.call(this);this.mK&&(this.mK.clear(),this.mK=null);this.wV&&(this.wV.W(),delete this.wV);this.ag=null};Gt(38,function(a){return new P$(a)});function f_a(){x.call(this)}v(f_a,KX);f_a.prototype.initialize=function(){};kf(jf.Y(),"appsshare").Ru(f_a);jf.Y().Qu("appsshare");UM();
